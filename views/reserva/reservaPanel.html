<!DOCTYPE html>
<div md-theme="docs-dark">
    <div class="col-lg-3">
        <div layout="column" ng-cloak
             class="distribucion-panel"
             ng-show="factura"
             data-ng-init="detailFactura()">
            <md-toolbar class="md-warn">
                <div class="md-toolbar-tools">
                    <h4 class="md-flex" style="width:100%; text-align: center;">
                        <div>Reserva N°{{factura.idFactura}} {{factura.numeracion}}</div>
                    </h4>
                </div>
            </md-toolbar>
            <md-content flex layout="row" md-theme="docs-dark">
                <div class="md-padding" flex>
                    <form class="form-horizontal" style="text-align: center;">
                        <p ng-if="factura.idSucursal === 1" style="font-weight: bolder; font-size: medium; margin-bottom: 20px;">Tierra de colores</p>
                        <p ng-if="factura.idSucursal === 2" style="font-weight: bolder; font-size: medium; margin-bottom: 20px;">Bebelandia</p>
                        <p ng-if="factura.idSucursal === 3" style="font-weight: bolder; font-size: medium; margin-bottom: 20px;">Libertador</p>
                        <div layout="column" style="margin-bottom: 0px;">
                            <label flex class="padd">Fecha de reserva</label>
                            <div flex>{{factura.fechaCreacion| date : 'medium'}}</div>                                

                            <label flex class="padd">Estado</label>
                            <div flex>{{factura.estado}}</div>

                            <label flex class="padd">Total</label>
                            <div flex>{{factura.total|currency}}</div>

                            <label flex class="padd">Saldo</label>
                            <div flex>{{factura.total - totalPago|currency}}</div>
                        </div>
                        <div layout="column" style="margin-top: 20px;">
                            <button class="btn btn-block btn-success" flex
                                    ng-click="cerrarFactura($event)"
                                    ng-disabled="factura.estado === 'CONFIRMADO'"
                                    style="float: bottom;">Terminar reserva</button>
                            <button class="btn btn-block btn-success" flex
                                    ui-sref="facturas"
                                    ng-disabled="factura.estado === 'CONFIRMADO'"
                                    style="float: bottom;">Continuar y salir</button>
                        </div>
                    </form>
                </div>
            </md-content>
        </div>
    </div>
    <div class="col-lg-9" ng-show="factura">
        <div class="distribucion-panel">
            <div ng-cloak>
                <md-content md-theme="docs-dark" style="min-height: 598px;">
                    <md-tabs md-dynamic-height md-border-bottom>                    
                        <md-tab label="Productos">
                            <md-content class="md-padding">
                                <div class="col-lg-12"
                                     data-ng-init="detailFactura()">
                                    <md-content layout-padding>
                                        <form name="codigoBarras" novalidate>
                                            <div layout="row" flex>
                                                <md-input-container flex class="md-block">
                                                    <label>Codigo de barras</label>
                                                    <input md-maxlength="30" required name="codigo" ng-model="codigo" focus-if>
                                                    <div ng-messages="codigoBarras.codigo.$error">
                                                        <div ng-message="required">No debe estar vacio para realizar una busqueda.</div>
                                                        <div ng-message="md-maxlength">El codigo de barras es demasiado largo.</div>
                                                    </div>                                                
                                                </md-input-container>
                                                <div>
                                                    <md-button class="md-raised"
                                                               type="search"
                                                               ng-disabled="factura.estado === 'CONFIRMADO'"
                                                               ng-click="buscarCodigoBarra(codigo)">Buscar <span class="glyphicon glyphicon-search"></span></md-button>
                                                </div>
                                            </div>
                                        </form>
                                    </md-content>
                                    <div class="table-responsive">
                                        <table ng-table="tableParams" style="margin-top: 10px;" 
                                               class="table table-condensed table-hover table-striped light-table"
                                               data-ng-init="listaDetalleFactura()">
                                            <thead id="headTableProductos">
                                                <tr>
                                                    <th>Id</th>
                                                    <th>Descripcion</th>
                                                    <th>Cantidad</th>
                                                    <th>Precio U. + IVA 21%</th>
                                                    <th>Precio U. sin IVA</th>
                                                    <th>Descuento</th>
                                                    <th>Total</th>
                                                    <th>Acciones</th>
                                                </tr>
                                            </thead>
                                            <tbody style="text-align: center;">
                                                <tr ng-repeat="detalleFactura in $data">
                                                    <td>{{detalleFactura.idDetalleFactura}}</td>
                                                    <td>{{detalleFactura.producto.descripcion}}</td>
                                                    <td>{{detalleFactura.cantidadDetalle}}</td>
                                                    <td>{{detalleFactura.producto.precioVenta|currency}}</td>
                                                    <td>{{detalleFactura.producto.precioVenta - (detalleFactura.producto.precioVenta * 21 / 100) | currency}}</td>
                                                    <td>{{detalleFactura.descuentoDetalle|currency}}</td>
                                                    <td>{{detalleFactura.totalDetalle|currency}}</td>
                                                    <td>
                                                        <button type="button"
                                                                uib-tooltip="Aplicar descuento"
                                                                ng-disabled="detalleFactura.descuentoDetalle !== 0 || factura.estado === 'CONFIRMADO'"
                                                                ng-click="cargarDescuento(detalleFactura)"
                                                                class="btn btn-xs btn-success">
                                                            <span class="glyphicon glyphicon-usd"></span>
                                                        </button>
                                                        <button type="button"
                                                                ng-disabled="factura.estado === 'CONFIRMADO'"
                                                                ng-click="eliminarDetalleFactura(detalleFactura)"
                                                                class="btn btn-xs btn-danger">
                                                            <span class="glyphicon glyphicon-remove"></span>
                                                        </button>
                                                        <button type="button"
                                                                ng-disabled="factura.estado === 'CONFIRMADO'"
                                                                ng-click="eliminarDescuento(detalleFactura)"
                                                                class="btn btn-xs btn-warning">
                                                            <span class="glyphicon glyphicon-erase"></span>
                                                        </button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                            <tfoot>
                                                <tr>
                                                    <th>Total</th>
                                                    <th style="text-align: center;">{{totalCompra|currency}}</th>
                                                </tr>
                                            </tfoot>
                                        </table>
                                    </div>
                                </div>
                            </md-content>
                        </md-tab>
                        <md-tab label="Metodos de pago">
                            <md-content class="md-padding" layout="row">
                                <div flex="40" class="md-padding" ng-controller="FacturaController">
                                    <form name="metodoPago">
                                        <md-input-container class="md-block md-icon">
                                            <label>Monto</label>
                                            <md-icon class="material-icons">&#xE227;</md-icon>
                                            <input name="monto"
                                                   min="0"
                                                   max="9999"
                                                   placeholder="Monto a pagar"
                                                   required type="number"
                                                   ng-model="cargarMetodo.montoPago">
                                            <div ng-messages="metodoPago.monto.$error"
                                                 ng-if='metodoPago.monto.$dirty || metodoPago.monto.$touched'>
                                                <div ng-message="min">Monto demasiado bajo.</div>
                                                <div ng-message="max">Monto demasiado alto.</div>
                                                <div ng-message="required">Este campo no puede estar vacio.</div>
                                            </div>
                                            <!-- ICONOS DE MENSAJE-->
                                            <span ng-show="metodoPago.monto.$dirty && metodoPago.monto.$valid" class="glyphicon glyphicon-ok form-control-feedback" ></span>
                                            <span ng-show="metodoPago.monto.$dirty && metodoPago.monto.$invalid" class="glyphicon glyphicon-remove  form-control-feedback"></span>
                                        </md-input-container>
                                        <md-input-container style="min-height: 48px;"
                                                            class="md-block md-icon"
                                                            data-ng-init="listaMedioPago()">
                                            <label>Medio Pago</label>
                                            <md-icon class="material-icons">&#xE8B0;</md-icon>
                                            <md-select ng-model="cargarMetodo.mediosPago"
                                                       placeholder="Elegir medio de pago"
                                                       ng-model-options="{trackBy: '$value.idMedioPago'}"
                                                       data-ng-init="cargarMetodo.mediosPago"
                                                       required name="medios">                                            
                                                <md-option ng-value="medio"
                                                           ng-repeat="medio in mediosPagos">{{medio.nombrePago}}</md-option>                                            
                                            </md-select>
                                            <div ng-messages="metodoPago.medios.$error"
                                                 ng-if="metodoPago.medios.$dirty || metodoPago.medios.$touched">
                                                <div ng-message="required">Este campo no puede estar vacio.</div>
                                            </div>
                                            <span ng-show="metodoPago.medios.$dirty && metodoPago.medios.$valid" class="glyphicon glyphicon-ok form-control-feedback" ></span>
                                            <span ng-show="metodoPago.medios.$dirty && metodoPago.medios.$invalid" class="glyphicon glyphicon-remove  form-control-feedback"></span>
                                        </md-input-container>
                                        <md-input-container style="min-height: 48px;"
                                                            class="md-block md-icon"
                                                            data-ng-init="listaEntidades()">
                                            <label>Entidad</label>
                                            <md-icon class="material-icons">&#xE84F;</md-icon>
                                            <md-select ng-model="cargarMetodo.entidadPago"
                                                       ng-disabled="disableSelectEntidades"
                                                       placeholder="Elegir entidad financiera"
                                                       ng-model-options="{trackBy: '$value.idEntidadMonetaria'}"
                                                       data-ng-init="cargarMetodo.entidadPago"
                                                       ng-change="busquedaTarjeta()"
                                                       required name="entidades">                                            
                                                <md-option ng-value="entidad"
                                                           ng-repeat="entidad in entidades">{{entidad.nombreEntidad}}</md-option>                                            
                                            </md-select>
                                            <div ng-messages="metodoPago.entidades.$error"
                                                 ng-if="metodoPago.entidades.$dirty || metodoPago.entidades.$touched">
                                                <div ng-message="required">Este campo no puede estar vacio.</div>
                                            </div>
                                            <span ng-show="metodoPago.entidades.$dirty && metodoPago.entidades.$valid" class="glyphicon glyphicon-ok form-control-feedback" ></span>
                                            <span ng-show="metodoPago.entidades.$dirty && metodoPago.entidades.$invalid" class="glyphicon glyphicon-remove  form-control-feedback"></span>
                                        </md-input-container>
                                        <md-input-container style="min-height: 48px;"
                                                            class="md-block md-icon"
                                                            data-ng-init="listaTarjetas()">
                                            <label>Tarjeta</label>
                                            <md-icon class="material-icons">&#xE870;</md-icon>
                                            <md-select ng-model="cargarMetodo.tarjetasPago"
                                                       ng-disabled="disableSelectTarjeta"
                                                       placeholder="Elegir tarjeta"
                                                       ng-model-options="{trackBy: '$value.idTarjeta'}"
                                                       data-ng-init="cargarMetodo.tarjetasPago"
                                                       ng-change="busquedaPlanByTarjeta()"
                                                       required name="tarjetas">
                                                <md-option ng-value="tarjeta"
                                                           ng-repeat="tarjeta in tarjetas">{{tarjeta.nombreTarjeta}}</md-option>                                            
                                            </md-select>
                                            <div ng-messages="metodoPago.tarjetas.$error"
                                                 ng-if="metodoPago.tarjetas.$dirty || metodoPago.tarjetas.$touched">
                                                <div ng-message="required">Este campo no puede estar vacio.</div>
                                            </div>
                                            <span ng-show="metodoPago.tarjetas.$dirty && metodoPago.tarjetas.$valid" class="glyphicon glyphicon-ok form-control-feedback" ></span>
                                            <span ng-show="metodoPago.tarjetas.$dirty && metodoPago.tarjetas.$invalid" class="glyphicon glyphicon-remove  form-control-feedback"></span>
                                        </md-input-container>
                                        <md-input-container style="min-height: 48px;"
                                                            class="md-block md-icon"
                                                            data-ng-init="listaPlanesPago()">
                                            <label>Plan de pago</label>
                                            <md-icon class="material-icons">&#xE870;</md-icon>
                                            <md-select ng-model="cargarMetodo.planPago"
                                                       ng-disabled="disableSelectMetodo"
                                                       placeholder="Elegir plan de pago"
                                                       ng-model-options="{trackBy: '$value.idPlanesPago'}"
                                                       data-ng-init="cargarMetodo.planPago"
                                                       required name="planes">
                                                <md-option ng-value="plan"
                                                           ng-repeat="plan in planesPago">{{plan.nombrePlanesPago}}</md-option>                                            
                                            </md-select>
                                            <div ng-messages="metodoPago.planes.$error"
                                                 ng-if="metodoPago.planes.$dirty || metodoPago.planes.$touched">
                                                <div ng-message="required">Este campo no puede estar vacio.</div>
                                            </div>
                                            <span ng-show="metodoPago.planes.$dirty && metodoPago.planes.$valid" class="glyphicon glyphicon-ok form-control-feedback" ></span>
                                            <span ng-show="metodoPago.planes.$dirty && metodoPago.planes.$invalid" class="glyphicon glyphicon-remove  form-control-feedback"></span>
                                        </md-input-container>
                                        <md-input-container class="md-block md-icon" flex>
                                            <label>Comprobante / N° CC</label>
                                            <md-icon class="material-icons">&#xE3DA;</md-icon>
                                            <input placeholder="N° de comprobante / N° CC"
                                                   required type="text"
                                                   maxlength="20"
                                                   minlength="5"
                                                   md-maxlength="20"
                                                   ng-disabled="!cargarMetodo.planPago" name="comprobante"
                                                   ng-model="cargarMetodo.comprobantePago">
                                            <div ng-messages="metodoPago.comprobante.$error"
                                                 ng-if="metodoPago.comprobante.$dirty || metodoPago.comprobante.$touched">
                                                <div ng-message="required">Este campo no puede estar vacio.</div>
                                                <div ng-message="minlength">Número demasiado corto.</div>
                                                <div ng-message="md-maxlength">Número demasiado largo.</div>
                                            </div>
                                            <span ng-show="metodoPago.comprobante.$dirty && metodoPago.comprobante.$valid" class="glyphicon glyphicon-ok form-control-feedback" ></span>
                                            <span ng-show="metodoPago.comprobante.$dirty && metodoPago.comprobante.$invalid" class="glyphicon glyphicon-remove  form-control-feedback"></span>
                                        </md-input-container>
                                        <div flex style="text-align: center;">
                                            <button class="btn btn-success"
                                                    ng-click="agregarMetodoPago(cargarMetodo)"
                                                    ng-disabled="factura.estado === 'CONFIRMADO'">
                                                Agregar
                                            </button>
                                        </div>
                                    </form>
                                </div>
                                <div flex="60" class="md-padding">
                                    <h4 style="text-align: center;">Metodos cargados</h4>
                                    <table class="table table-striped table-hover table-condensed light-table"
                                           ng-table="tableMetodos"
                                           data-ng-init="listaMetodoPagoFactura()">
                                        <thead>
                                            <tr>
                                                <th>Metodo</th>
                                                <th>Entidad</th>
                                                <th>Tarjeta</th>
                                                <th>Plan</th>
                                                <th>Monto</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="metodo in $data">
                                                <td>{{metodo.planPago.tarjeta.medioPago.nombrePago}}</td>
                                                <td>{{metodo.planPago.tarjeta.entidadBancaria.nombreEntidad}}</td>
                                                <td>{{metodo.planPago.tarjeta.nombreTarjeta}}</td>
                                                <td>{{metodo.planPago.nombrePlanesPago}}</td>
                                                <td style="text-align: center;">{{metodo.montoPago|currency}}</td>
                                            </tr>
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <th>Total</th>
                                                <th style="text-align: center;">{{totalPago|currency}}</th>
                                            </tr>
                                        </tfoot>
                                    </table>                               
                                </div>
                            </md-content>
                        </md-tab>
                        <md-tab label="Datos del cliente" ng-disabled="false">
                            <md-content class="md-padding">
                                <md-content layout-padding>
                                    <form name="clienteBusq">
                                        <div layout="row" flex style="max-height: 58px;">
                                            <md-autocomplete flex md-input-name="clientes"
                                                             md-input-minlength="2"
                                                             md-min-length="2"
                                                             md-input-maxlength="40"
                                                             md-selected-item="dynamicCliente"
                                                             md-search-text="searchText"
                                                             md-items="item in getCliente(searchText)"
                                                             md-item-text="item.nombreCliente"
                                                             md-floating-label="Cliente">
                                                <md-item-template>
                                                    <span>
                                                        <md-icon class="material-icons" style="color: #000;">&#xE150;</md-icon>
                                                        <strong>Nombre:</strong>
                                                        <span> {{item.nombreCliente}} </span>
                                                    </span>
                                                    <span>
                                                        <strong>Documento:</strong>
                                                        <span> {{item.documento}} </span>
                                                    </span>
                                                </md-item-template>
                                                <md-not-found>
                                                    No se encontraron resultados
                                                </md-not-found>
                                            </md-autocomplete>
                                            <div>
                                                <md-button class="md-raised"
                                                           type="search"
                                                           ng-click="agregarClienteDynamic(dynamicCliente)">
                                                    Añadir
                                                </md-button>
                                                <md-button class="md-raised"
                                                           type="search"
                                                           ng-disabled="factura.cliente"
                                                           ng-click="panelCliente = false">
                                                    Nuevo
                                                </md-button>
                                            </div>
                                        </div>
                                    </form>
                                </md-content>
                                <!-- DATOS CLIENTE-->                                
                                <div ng-show="panelCliente">
                                    <md-content layout-padding layout="column">
                                        <p flex style="text-align: center; font-weight: bold">
                                            Datos del cliente
                                        </p>
                                        <div layout="row">
                                            <div flex layout="row" class="padd">
                                                <label flex class="padd">Documento:</label>
                                                <div flex class="padd">{{factura.cliente.documento}}</div>
                                            </div>
                                            <div flex layout="row" class="padd">
                                                <label flex class="padd">Tipo de documento</label>
                                                <div class="padd" flex ng-if="factura.cliente.tipoDocumento === 'C'">CUIT</div>
                                                <div class="padd" flex ng-if="factura.cliente.tipoDocumento === '0'">Libreta de enrolamiento</div>
                                                <div class="padd" flex ng-if="factura.cliente.tipoDocumento === '1'">Libreta civica</div>
                                                <div class="padd" flex ng-if="factura.cliente.tipoDocumento === '2'">DNI</div>
                                                <div class="padd" flex ng-if="factura.cliente.tipoDocumento === '3'">Pasaporte</div>
                                                <div class="padd" flex ng-if="factura.cliente.tipoDocumento === '4'">Cedula de identidad</div>
                                            </div>
                                        </div>
                                        <div layout="row">
                                            <div flex layout="row" class="padd">
                                                <label flex class="padd">Resp. IVA</label>
                                                <div class="padd" flex ng-if="factura.cliente.responsabilidadIva === 'I'">Resp. inscripto</div>
                                                <div class="padd" flex ng-if="factura.cliente.responsabilidadIva === 'N'">Resp. no inscripto</div>
                                                <div class="padd" flex ng-if="factura.cliente.responsabilidadIva === 'E'">Exento</div>
                                                <div class="padd" flex ng-if="factura.cliente.responsabilidadIva === 'A'">No responsible</div>
                                                <div class="padd" flex ng-if="factura.cliente.responsabilidadIva === 'C'">Consumidor final</div>
                                                <div class="padd" flex ng-if="factura.cliente.responsabilidadIva === 'B'">Resp. no inscripto, venta bienes</div>
                                                <div class="padd" flex ng-if="factura.cliente.responsabilidadIva === 'M'">Resp. monotributo</div>
                                                <div class="padd" flex ng-if="factura.cliente.responsabilidadIva === 'T'">No categorizado</div>
                                            </div>
                                            <div flex layout="row" class="padd">
                                                <label flex class="padd">Nombre cliente/empresa</label>
                                                <div flex class="padd">{{factura.cliente.nombreCliente}}</div>
                                            </div>
                                        </div>
                                        <div layout="row">
                                            <div flex layout="row" class="padd">
                                                <label flex class="padd">Domicilio</label>
                                                <div flex class="padd">{{factura.cliente.domicilio}}</div>
                                            </div>
                                            <div flex layout="row" class="padd">
                                                <label flex class="padd">Fecha de nacimiento</label>
                                                <div flex class="padd">{{factura.cliente.fechaNacimiento| date : 'yyyy/MM/dd'}}</div>
                                            </div>
                                        </div>
                                        <div layout="row">
                                            <div flex layout="row" class="padd">
                                                <label flex class="padd">Teléfono</label>
                                                <div flex class="padd">{{factura.cliente.telefono}}</div>
                                            </div>
                                            <div flex layout="row" class="padd">
                                                <label flex class="padd">E-mail</label>
                                                <div flex class="padd">{{factura.cliente.emailCliente}}</div>
                                            </div>
                                        </div>
                                    </md-content>
                                </div>
                                <div ng-hide="panelCliente" flex>
                                    <md-content class="md-padding" flex style="padding-top: 0px;">
                                        <p flex style="text-align: center; font-weight: bold">
                                            Agregar nuevo cliente
                                            <button class="pull-right"
                                                    ng-click="panelCliente = true"
                                                    style="background: transparent; border: none;">
                                                <md-icon class="material-icons">&#xE14C;</md-icon>
                                            </button>
                                        </p>
                                        <form name="newCliente">
                                            <div layout="row" flex>
                                                <md-input-container flex class="md-block md-icon">
                                                    <label>Documento</label>
                                                    <md-icon class="material-icons">&#xE150;</md-icon>
                                                    <input type="text" 
                                                           ng-model="clienteFactura.documento"
                                                           name="documento" required
                                                           placeholder="N° de documento del cliente o empresa"
                                                           maxlength="11"
                                                           minlength="8"
                                                           md-maxlength="11"/>
                                                    <div ng-messages="newCliente.documento.$error"
                                                         ng-if='newCliente.documento.$dirty || newCliente.documento.$touched'>
                                                        <div ng-message="minlength">Documento demasiado corto.</div>
                                                        <div ng-message="md-maxlength">Documento demasiado largo.</div>
                                                        <div ng-message="required">Este campo no puede estar vacio.</div>
                                                    </div>
                                                </md-input-container>
                                                <md-input-container class="md-block" flex>
                                                    <label>Tipo de documento</label>
                                                    <md-icon class="material-icons">&#xE150;</md-icon>
                                                    <md-select ng-model="clienteFactura.tipoDocumento"
                                                               placeholder="Elige un tipo de documento"
                                                               required name="tipo">
                                                        <md-option value="C">CUIT</md-option>
                                                        <md-option value="0">Libreta de enrolamiento</md-option>
                                                        <md-option value="1">Libreta civica</md-option>
                                                        <md-option value="2">Documento Nacional de Identidad</md-option>
                                                        <md-option value="3">Pasaporte</md-option>
                                                        <md-option value="4">Cedula de identidad</md-option>
                                                    </md-select>
                                                    <div ng-messages="newCliente.tipo.$error"
                                                         ng-if="newCliente.tipo.$touched">
                                                        <div ng-message="required">Este campo no puede estar vacio.</div>
                                                    </div>
                                                </md-input-container>
                                            </div>
                                            <div layout="row" flex>
                                                <md-input-container flex class="md-block md-icon">
                                                    <label>Nombre cliente/empresa</label>
                                                    <md-icon class="material-icons">&#xE150;</md-icon>
                                                    <input type="text" 
                                                           ng-model="clienteFactura.nombreCliente"
                                                           name="nombre" required
                                                           placeholder="Nombre del cliente o empresa"
                                                           maxlength="45"
                                                           minlength="8"
                                                           md-maxlength="45"/>
                                                    <div ng-messages="newCliente.nombre.$error"
                                                         ng-if='newCliente.nombre.$dirty || newCliente.nombre.$touched'>
                                                        <div ng-message="minlength">Nombre demasiado corto.</div>
                                                        <div ng-message="md-maxlength">Nombre demasiado largo.</div>
                                                        <div ng-message="required">Este campo no puede estar vacio.</div>
                                                    </div>
                                                </md-input-container>
                                                <md-input-container flex class="md-block md-icon">
                                                    <label>Domicilio</label>
                                                    <md-icon class="material-icons">&#xE150;</md-icon>
                                                    <input type="text" 
                                                           ng-model="clienteFactura.domicilio"
                                                           name="domicilio" required
                                                           placeholder="Dirección del domicilio"
                                                           maxlength="45"
                                                           minlength="8"
                                                           md-maxlength="45"/>
                                                    <div ng-messages="newCliente.domicilio.$error"
                                                         ng-if='newCliente.domicilio.$dirty || newCliente.domicilio.$touched'>
                                                        <div ng-message="minlength">Domicilio demasiado corto.</div>
                                                        <div ng-message="md-maxlength">Domicilio demasiado largo.</div>
                                                        <div ng-message="required">Este campo no puede estar vacio.</div>
                                                    </div>
                                                </md-input-container>
                                            </div>
                                            <div layout="row" flex>
                                                <md-input-container class="md-block" flex>
                                                    <label>Tipo de documento</label>
                                                    <md-icon class="material-icons">&#xE150;</md-icon>
                                                    <md-select ng-model="clienteFactura.responsabilidadIva"
                                                               placeholder="Elige la responsabilidad frente al IVA."
                                                               required name="iva">
                                                        <md-option value="I">Responsable inscripto</md-option>
                                                        <md-option value="N">Responsable no inscripto</md-option>
                                                        <md-option value="E">Exento</md-option>
                                                        <md-option value="A">No responsible</md-option>
                                                        <md-option value="C">Consumidor final</md-option>
                                                        <md-option value="B">Responsable no inscripto, venta de bienes de uso</md-option>
                                                        <md-option value="M">Responsable monotributo</md-option>
                                                        <md-option value="T">No categorizado</md-option>
                                                    </md-select>
                                                    <div ng-messages="newCliente.iva.$error"
                                                         ng-if="newCliente.iva.$touched">
                                                        <div ng-message="required">Este campo no puede estar vacio.</div>
                                                    </div>
                                                </md-input-container>
                                                <md-input-container flex class="md-block md-icon">
                                                    <label>Teléfono</label>
                                                    <md-icon class="material-icons">&#xE150;</md-icon>
                                                    <input type="tel" 
                                                           ng-model="clienteFactura.telefono"
                                                           name="telefono"
                                                           placeholder="Teléfono del cliente"
                                                           maxlength="20"
                                                           minlength="8"
                                                           md-maxlength="20"/>
                                                    <div ng-messages="newCliente.telefono.$error"
                                                         ng-if='newCliente.telefono.$dirty || newCliente.telefono.$touched'>
                                                        <div ng-message="minlength">Teléfono demasiado corto.</div>
                                                        <div ng-message="md-maxlength">Teléfono demasiado largo.</div>
                                                        <div ng-message="tel">Teléfono invalido.</div>
                                                    </div>
                                                </md-input-container>
                                            </div>
                                            <div layout="row" flex>                                   
                                                <md-input-container flex class="md-block md-icon">
                                                    <label>E-mail</label>
                                                    <md-icon class="material-icons">&#xE150;</md-icon>
                                                    <input type="email" 
                                                           ng-model="clienteFactura.emailCliente"
                                                           name="email" 
                                                           placeholder="Dirección de e-mail"
                                                           maxlength="30"
                                                           minlength="8"
                                                           md-maxlength="30"/>
                                                    <div ng-messages="newCliente.email.$error"
                                                         ng-if='newCliente.email.$dirty || newCliente.email.$touched'>
                                                        <div ng-message="minlength">E-mail demasiado corto.</div>
                                                        <div ng-message="md-maxlength">E-mail demasiado largo.</div>
                                                        <div ng-message="email">E-mail invalido.</div>
                                                    </div>
                                                </md-input-container>
                                                <md-input-container flex class="md-block md-icon">
                                                    <label>Fecha de Nacimiento</label>
                                                    <md-icon class="material-icons">&#xE150;</md-icon>
                                                    <input type="date" 
                                                           ng-model="clienteFactura.fechaNacimiento"
                                                           name="fecha"
                                                           placeholder="Fecha de nacimiento del cliente"/>
                                                    <div ng-messages="newCliente.fecha.$error"
                                                         ng-if='newCliente.fecha.$dirty || newCliente.fecha.$touched'>
                                                        <div ng-message="date">Fecha invalida.</div>
                                                    </div>
                                                </md-input-container>
                                                <div flex="50" style="text-align: center;">
                                                    <button type="submit"
                                                            ng-disabled="newCliente.$invalid"
                                                            ng-click="agregarCliente(clienteFactura)"
                                                            class="btn btn-success">
                                                        Agregar
                                                    </button>
                                                </div>
                                            </div>
                                        </form>
                                    </md-content>
                                </div>
                            </md-content>
                        </md-tab>
                    </md-tabs>
                </md-content>
            </div>
        </div>
    </div>
</div>